---
description: >-
  Details an integration available for Shopify, built and maintained by Umbraco HQ.
---

# Shopify Integration

This integration provides a products picker and a value converter that uses a [strongly typed model](Models/ViewModels/ProductViewModel.cs) for rendering. Products can be retrieved from a [Shopify](https://www.shopify.com/) store or through custom apps developed by [Shopify Partners](https://www.shopify.com/partners).

Install from NuGet via:
https://www.nuget.org/packages/Umbraco.Cms.Integrations.Commerce.Shopify

Source code is at:
https://github.com/umbraco/Umbraco.Cms.Integrations/tree/main/src/Umbraco.Cms.Integrations.Commerce.Shopify

Available on the Umbraco Marketplace at:
https://marketplace.umbraco.com/package/umbraco.cms.integrations.commerce.shopify

## Prerequisites

Required minimum versions of Umbraco CMS:

- 8.5.4 for version 8
- 9.0.1 for version 9

## How To Use

### Authentication

The package supports two modes of authentication:

- API Access Token
- OAuth

#### API Access Token

Log into the admin interface of your shop by accessing `https://{shop}.myshopify.com/admin`. Go to _Apps > Develop apps_ and create a new App for the shop. If App Development feature is disabled, you will need to enable it.

After the app is created, define the scopes for the Admin API: _read_products_, then select the option to _Install App_.

Once the app is installed the Admin API access token will be visible only once in the _API credentials_ tab.

Use the access token and add it to an app setting in `Web.config` alongside settings for the API version and the name of the shop:

```xml
  <appSettings>
    <add key="Umbraco.Cms.Integrations.Commerce.Shopify.ApiVersion" value="2022-01" />
    <add key="Umbraco.Cms.Integrations.Commerce.Shopify.AccessToken" value="[your access token]" />
    <add key="Umbraco.Cms.Integrations.Commerce.Shopify.Shop" value="[your shop's name]" />
  </appSettings>
```

Shopify releases a new API version every 3 months at the beginning of the quarter. Latest stable version used for this integration is [2022-01](https://shopify.dev/api/usage/versioning).

#### OAuth

If you prefer not to use an API key, an authentication flow using OAuth is also available.

To use this, ensure you don't have an API key in your configuration file.

### Backoffice usage

To use the products picker, a new datatype should be created based on the Shopify Products Picker property editor.

The settings in `Web.config` will be checked and a message presented indicating whether authentication is in place.

If OAuth is being used for authentication, then the _Connect_ button will be enabled. When clicked, the user will be prompted with the Shopify authorization window.

The retrieved access token will be saved into the database and used for future requests.

_Revoke_ action will remove the access token from the database and the authorization process will need to be repeated.

### Front-end rendering

A strongly typed model will be generated by the property value converter, and an HTML helper is available, to render the products on the front-end.

Ensure your template has a reference to the following using statement:

```
@using Umbraco.Cms.Integrations.Commerce.Shopify.Helpers;
```

And render the form using (assuming a property based on the created datatype, with alias `shopifyProductPicker` has been created):

```csharp
@Html.RenderProductsList(Model.ShopifyProductPicker)
```

You can use the default rendering view and style it using the existing CSS classes, or use it as inspiration for your own views. The path to your custom view will be then passed as parameter to the HTML helper method.
